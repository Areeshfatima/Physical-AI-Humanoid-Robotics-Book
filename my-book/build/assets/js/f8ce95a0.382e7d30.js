"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[756],{3023(n,i,e){e.d(i,{R:()=>s,x:()=>a});var t=e(3696);const o={},r=t.createContext(o);function s(n){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function a(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),t.createElement(r.Provider,{value:i},n.children)}},3831(n,i,e){e.d(i,{A:()=>t});const t="data:image/png;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+CiAgPHJlY3QgeD0iMTAiIHk9IjEwIiB3aWR0aD0iMzgwIiBoZWlnaHQ9IjE4MCIgZmlsbD0iI2QzZDNkMyIgc3Ryb2tlPSIjYTlhOWE5IiBzdHJva2Utd2lkdGg9IjIiLz4KICA8dGV4dCB4PSIyMDAiIHk9IjkwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMwMDAwMDAiPltJTUFHRSBQTEFDRUhPTERFUl08L3RleHQ+CiAgPHRleHQgeD0iMjAwIiB5PSIxMTUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzAwMDAwMCI+TWlzc2luZyBpbWFnZSB3aWxsIGFwcGVhciBoZXJlPC90ZXh0PgogIDx0ZXh0IHg9IjIwMCIgeT0iMTM1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMwMDAwMDAiPndoZW4gYXZhaWxhYmxlPC90ZXh0PgogIDxwYXRoIGQ9Ik01MCw1MCBMMzUwLDUwIEwzNTAsMTUwIEw1MCwxNTAgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjYTlhOWE5IiBzdHJva2Utd2lkdGg9IjEiLz4KICA8cGF0aCBkPSJNNTAsNTAgTDM1MCwxNTAgTTM1MCw1MCBMNTAsMTUwIiBzdHJva2U9IiNhOWE5YTkiIHN0cm9rZS13aWR0aD0iMSIvPgo8L3N2Zz4="},4109(n,i,e){e.r(i),e.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"module-2-digital-twin/chapter-3","title":"Unity Integration for Digital Twins","description":"Creating immersive digital twin experiences using Unity 3D engine","source":"@site/docs/module-2-digital-twin/chapter-3.md","sourceDirName":"module-2-digital-twin","slug":"/module-2-digital-twin/chapter-3","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/chapter-3","draft":false,"unlisted":false,"editUrl":"undefined/docs/module-2-digital-twin/chapter-3.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Unity Integration for Digital Twins","sidebar_position":4,"description":"Creating immersive digital twin experiences using Unity 3D engine","keywords":["unity","digital twin","3d visualization","robotics","simulation","c#"],"id":"chapter-3"},"sidebar":"textbookSidebar","previous":{"title":"Gazebo Simulation Fundamentals","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/chapter-2"},"next":{"title":"Digital Twin Applications and Deployment","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/chapter-4"}}');var o=e(2540),r=e(3023);const s={title:"Unity Integration for Digital Twins",sidebar_position:4,description:"Creating immersive digital twin experiences using Unity 3D engine",keywords:["unity","digital twin","3d visualization","robotics","simulation","c#"],id:"chapter-3"},a="Unity Integration for Digital Twins",l={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction to Unity for Digital Twins",id:"introduction-to-unity-for-digital-twins",level:2},{value:"Unity Architecture for Digital Twins",id:"unity-architecture-for-digital-twins",level:2},{value:"Core Components",id:"core-components",level:3},{value:"Unity vs. Gazebo in Digital Twin Systems",id:"unity-vs-gazebo-in-digital-twin-systems",level:3},{value:"Setting Up Unity for Digital Twin Development",id:"setting-up-unity-for-digital-twin-development",level:2},{value:"Required Components and Packages",id:"required-components-and-packages",level:3},{value:"Unity Project Structure for Digital Twins",id:"unity-project-structure-for-digital-twins",level:3},{value:"Creating Robot Models in Unity",id:"creating-robot-models-in-unity",level:2},{value:"Importing Robot Models",id:"importing-robot-models",level:3},{value:"Example Robot Model with Animation",id:"example-robot-model-with-animation",level:3},{value:"Robot Controller Script",id:"robot-controller-script",level:3},{value:"Real-time Data Synchronization",id:"real-time-data-synchronization",level:2},{value:"Communication Protocols",id:"communication-protocols",level:3},{value:"Example Implementation with WebSockets",id:"example-implementation-with-websockets",level:3},{value:"Unity Robotics Simulation Package",id:"unity-robotics-simulation-package",level:2},{value:"Unity Robotics Hub",id:"unity-robotics-hub",level:3},{value:"Example of Using ROS-TCP-Connector",id:"example-of-using-ros-tcp-connector",level:3},{value:"Developing Interactive Interfaces",id:"developing-interactive-interfaces",level:2},{value:"UI for Digital Twin Control",id:"ui-for-digital-twin-control",level:3},{value:"VR/AR Integration for Digital Twins",id:"vrar-integration-for-digital-twins",level:2},{value:"Virtual Reality Implementation",id:"virtual-reality-implementation",level:3},{value:"Example VR Interaction Script",id:"example-vr-interaction-script",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Rendering Optimization",id:"rendering-optimization",level:3},{value:"Network Optimization",id:"network-optimization",level:3},{value:"Digital Twin Applications in Unity",id:"digital-twin-applications-in-unity",level:2},{value:"Training and Simulation",id:"training-and-simulation",level:3},{value:"Remote Monitoring and Control",id:"remote-monitoring-and-control",level:3},{value:"Educational Applications",id:"educational-applications",level:3},{value:"Integration with Gazebo",id:"integration-with-gazebo",level:2},{value:"Hybrid Simulation Approaches",id:"hybrid-simulation-approaches",level:3},{value:"Example Architecture",id:"example-architecture",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Model Accuracy",id:"model-accuracy",level:3},{value:"User Experience",id:"user-experience",level:3},{value:"Development Workflow",id:"development-workflow",level:3},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2}];function d(n){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"unity-integration-for-digital-twins",children:"Unity Integration for Digital Twins"})}),"\n",(0,o.jsx)(i.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,o.jsx)(i.p,{children:"After completing this chapter, you should be able to:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Understand Unity's role in digital twin systems for robotics"}),"\n",(0,o.jsx)(i.li,{children:"Create 3D robot models and environments in Unity"}),"\n",(0,o.jsx)(i.li,{children:"Implement real-time data synchronization between Unity and physical systems"}),"\n",(0,o.jsx)(i.li,{children:"Develop interactive interfaces for digital twin applications"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"introduction-to-unity-for-digital-twins",children:"Introduction to Unity for Digital Twins"}),"\n",(0,o.jsx)(i.p,{children:"Unity is a powerful real-time 3D development platform that has found applications in creating immersive digital twin experiences. While Gazebo excels at physics-accurate simulation, Unity provides:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"High-Quality Visualization"}),": Professional-grade rendering capabilities"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Immersive Interfaces"}),": VR and AR integration possibilities"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Real-time Interaction"}),": Intuitive user interfaces with immediate response"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Cross-platform Deployment"}),": Deploy to various devices and platforms"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Rich Asset Ecosystem"}),": Extensive marketplace for 3D models and tools"]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Unity complements Gazebo in digital twin systems by providing the high-fidelity visualization layer that makes digital twins more accessible and intuitive for users."}),"\n",(0,o.jsx)(i.h2,{id:"unity-architecture-for-digital-twins",children:"Unity Architecture for Digital Twins"}),"\n",(0,o.jsx)(i.h3,{id:"core-components",children:"Core Components"}),"\n",(0,o.jsx)(i.p,{children:"Unity's architecture for digital twin applications involves:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Scene Management"}),": Organizing the 3D environment and robot models"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Rendering Pipeline"}),": Handling the visual representation of the system"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Physics Engine"}),": Built-in physics for interaction (separate from Gazebo)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Input System"}),": Handling user interaction and control commands"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Networking Layer"}),": Managing real-time data synchronization"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Scripting Layer"}),": Custom C# scripts implementing digital twin logic"]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.img,{alt:"Unity Digital Twin Architecture",src:e(3831).A+"",width:"400",height:"200"}),"\n",(0,o.jsx)(i.em,{children:"Figure 3.1: Unity architecture for digital twin applications showing core components"})]}),"\n",(0,o.jsx)(i.h3,{id:"unity-vs-gazebo-in-digital-twin-systems",children:"Unity vs. Gazebo in Digital Twin Systems"}),"\n",(0,o.jsxs)(i.table,{children:[(0,o.jsx)(i.thead,{children:(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.th,{children:"Aspect"}),(0,o.jsx)(i.th,{children:"Gazebo"}),(0,o.jsx)(i.th,{children:"Unity"})]})}),(0,o.jsxs)(i.tbody,{children:[(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:"Physics"}),(0,o.jsx)(i.td,{children:"Highly accurate, robotics-focused"}),(0,o.jsx)(i.td,{children:"Game-optimized, less accurate"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:"Visualization"}),(0,o.jsx)(i.td,{children:"Functional, engineering-focused"}),(0,o.jsx)(i.td,{children:"Photorealistic, immersive"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:"Performance"}),(0,o.jsx)(i.td,{children:"Optimized for physics simulation"}),(0,o.jsx)(i.td,{children:"Optimized for rendering quality"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:"User Interface"}),(0,o.jsx)(i.td,{children:"Basic GUI"}),(0,o.jsx)(i.td,{children:"Rich, interactive interfaces"})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:"Application Type"}),(0,o.jsx)(i.td,{children:"Simulation and testing"}),(0,o.jsx)(i.td,{children:"Visualization and interaction"})]})]})]}),"\n",(0,o.jsx)(i.h2,{id:"setting-up-unity-for-digital-twin-development",children:"Setting Up Unity for Digital Twin Development"}),"\n",(0,o.jsx)(i.h3,{id:"required-components-and-packages",children:"Required Components and Packages"}),"\n",(0,o.jsx)(i.p,{children:"For robotics and digital twin applications, Unity typically requires:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Unity Editor"}),": Version 2021.3 LTS or newer for long-term support"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"RosSharp Package"}),": For ROS communication (if connecting directly to ROS systems)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Mirror Networking"}),": For real-time data synchronization"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"XR Packages"}),": If developing VR/AR experiences"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"URDF Importer"}),": For importing robot models from ROS"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"unity-project-structure-for-digital-twins",children:"Unity Project Structure for Digital Twins"}),"\n",(0,o.jsx)(i.p,{children:"A typical Unity project for digital twin applications includes:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"Assets/\n\u251c\u2500\u2500 Models/              # 3D models of robots and environments\n\u251c\u2500\u2500 Scripts/             # Custom scripts for digital twin logic\n\u251c\u2500\u2500 Materials/           # Visual materials for objects\n\u251c\u2500\u2500 Scenes/              # Unity scene files\n\u251c\u2500\u2500 Plugins/             # Third-party packages and libraries\n\u251c\u2500\u2500 Prefabs/             # Reusable robot and component prefabs\n\u2514\u2500\u2500 Resources/           # Dynamic content and configuration files\n"})}),"\n",(0,o.jsx)(i.h2,{id:"creating-robot-models-in-unity",children:"Creating Robot Models in Unity"}),"\n",(0,o.jsx)(i.h3,{id:"importing-robot-models",children:"Importing Robot Models"}),"\n",(0,o.jsx)(i.p,{children:"While Unity doesn't natively support URDF, several approaches exist:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Manual Creation"}),": Build models from scratch in Unity or import from CAD"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"URDF Importer Package"}),": Convert URDF files to Unity format"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"FBX Import"}),": Import CAD exports or other 3D formats"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"example-robot-model-with-animation",children:"Example Robot Model with Animation"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-csharp",children:'using UnityEngine;\n\npublic class RobotJoint : MonoBehaviour\n{\n    [Header("Joint Configuration")]\n    public string jointName;\n    public JointType jointType;\n    public float minAngle = -90f;\n    public float maxAngle = 90f;\n    \n    [Header("Current State")]\n    public float currentAngle;\n    \n    private ConfigurableJoint configJoint;\n    private Vector3 initialLocalRotation;\n    \n    void Start()\n    {\n        configJoint = GetComponent<ConfigurableJoint>();\n        initialLocalRotation = transform.localEulerAngles;\n    }\n    \n    // Update joint position based on real data\n    public void SetJointAngle(float angle)\n    {\n        float clampedAngle = Mathf.Clamp(angle, minAngle, maxAngle);\n        currentAngle = clampedAngle;\n        \n        switch(jointType)\n        {\n            case JointType.Revolute:\n                // For revolute joints, rotate around local Y axis\n                transform.localEulerAngles = new Vector3(\n                    initialLocalRotation.x,\n                    initialLocalRotation.y + clampedAngle,\n                    initialLocalRotation.z\n                );\n                break;\n            case JointType.Prismatic:\n                // For prismatic joints, translate along X axis\n                transform.localPosition = new Vector3(\n                    initialLocalRotation.x + clampedAngle * 0.01f, // Scale factor\n                    initialLocalRotation.y,\n                    initialLocalRotation.z\n                );\n                break;\n        }\n    }\n    \n    public enum JointType\n    {\n        Revolute,\n        Prismatic,\n        Fixed\n    }\n}\n'})}),"\n",(0,o.jsx)(i.h3,{id:"robot-controller-script",children:"Robot Controller Script"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-csharp",children:'using System.Collections.Generic;\nusing UnityEngine;\n\npublic class RobotController : MonoBehaviour\n{\n    [Header("Robot Configuration")]\n    public string robotName;\n    public List<RobotJoint> joints = new List<RobotJoint>();\n    \n    [Header("Data Synchronization")]\n    public bool useRealTimeData = true;\n    public float synchronizationRate = 60f; // Hz\n    \n    private float lastSyncTime;\n    \n    void Start()\n    {\n        lastSyncTime = Time.time;\n    }\n    \n    void Update()\n    {\n        if (useRealTimeData && Time.time - lastSyncTime >= 1f / synchronizationRate)\n        {\n            UpdateRobotFromData();\n            lastSyncTime = Time.time;\n        }\n    }\n    \n    // Called when new joint data is received\n    public void UpdateJointData(string jointName, float angle)\n    {\n        RobotJoint joint = joints.Find(j => j.jointName == jointName);\n        if (joint != null)\n        {\n            joint.SetJointAngle(angle);\n        }\n    }\n    \n    // Placeholder for data receiving logic\n    private void UpdateRobotFromData()\n    {\n        // This would typically receive data from a network connection\n        // or from a ROS bridge implementation\n        foreach (RobotJoint joint in joints)\n        {\n            // Update joint with latest data\n            // This is where you would interface with your data source\n        }\n    }\n    \n    // Method to send commands to the physical robot\n    public void SendCommand(string jointName, float targetAngle)\n    {\n        // This would send commands to the physical robot\n        // through a network connection or ROS bridge\n    }\n}\n'})}),"\n",(0,o.jsx)(i.h2,{id:"real-time-data-synchronization",children:"Real-time Data Synchronization"}),"\n",(0,o.jsx)(i.h3,{id:"communication-protocols",children:"Communication Protocols"}),"\n",(0,o.jsx)(i.p,{children:"Unity can interface with real-world data through various protocols:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"ROS Bridge"}),": Using RosSharp or custom ROS interfaces"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"HTTP/WebSocket API"}),": For web-based data sources"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"TCP/UDP Sockets"}),": Direct network communication"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Shared Memory"}),": For local, high-performance data exchange"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"example-implementation-with-websockets",children:"Example Implementation with WebSockets"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-csharp",children:'using System;\nusing System.Collections;\nusing UnityEngine;\nusing Newtonsoft.Json;\nusing System.Collections.Generic;\n\npublic class DataSynchronizer : MonoBehaviour\n{\n    [Header("Connection Settings")]\n    public string serverURL = "ws://localhost:8080";\n    \n    [Header("Robot Data")]\n    public RobotController robotController;\n    \n    private WebSocket websocket;\n    \n    void Start()\n    {\n        ConnectToServer();\n    }\n    \n    void ConnectToServer()\n    {\n        websocket = new WebSocket(new Uri(serverURL));\n        websocket.OnOpen += () => {\n            Debug.Log("Connection opened");\n        };\n        websocket.OnError += (e) => {\n            Debug.Log("Error: " + e);\n        };\n        websocket.OnMessage += (data) => {\n            ProcessMessage(data);\n        };\n        \n        StartCoroutine(ReconnectOnFailure());\n    }\n    \n    IEnumerator ReconnectOnFailure()\n    {\n        yield return new WaitForSeconds(5f);\n        if (websocket == null || websocket.State != WebSocketState.Open)\n        {\n            ConnectToServer();\n        }\n    }\n    \n    void ProcessMessage(string data)\n    {\n        try\n        {\n            RobotState state = JsonConvert.DeserializeObject<RobotState>(data);\n            UpdateRobotState(state);\n        }\n        catch (Exception e)\n        {\n            Debug.LogError("Error parsing robot state: " + e.Message);\n        }\n    }\n    \n    void UpdateRobotState(RobotState state)\n    {\n        foreach (JointState joint in state.jointStates)\n        {\n            robotController.UpdateJointData(joint.name, joint.position);\n        }\n    }\n    \n    void OnDestroy()\n    {\n        if (websocket != null)\n            websocket.Close();\n    }\n}\n\n[System.Serializable]\npublic class RobotState\n{\n    public string robotName;\n    public List<JointState> jointStates = new List<JointState>();\n    public float timestamp;\n}\n\n[System.Serializable]\npublic class JointState\n{\n    public string name;\n    public float position;\n    public float velocity;\n    public float effort;\n}\n'})}),"\n",(0,o.jsx)(i.h2,{id:"unity-robotics-simulation-package",children:"Unity Robotics Simulation Package"}),"\n",(0,o.jsx)(i.h3,{id:"unity-robotics-hub",children:"Unity Robotics Hub"}),"\n",(0,o.jsx)(i.p,{children:"Unity provides the Robotics Simulation Package that facilitates the integration of robotics workflows:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"ROS-TCP-Connector"}),": For ROS communication"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"ODrive"}),": For perception data generation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Robot Framework"}),": For creating robot prefabs"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"example-of-using-ros-tcp-connector",children:"Example of Using ROS-TCP-Connector"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-csharp",children:'using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing Unity.Robotics.ROSTCPConnector.MessageTypes.Std;\n\npublic class UnityRobotBridge : MonoBehaviour\n{\n    [SerializeField]\n    string rosIPAddress = "127.0.0.1";\n    [SerializeField]\n    int rosPort = 10000;\n    \n    ROSConnection ros;\n    string robotTopic = "unity_robot_state";\n    \n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.Initialize(rosIPAddress, rosPort);\n    }\n    \n    void Update()\n    {\n        // Send robot state to ROS\n        SendRobotState();\n    }\n    \n    void SendRobotState()\n    {\n        // Example: Send current joint positions\n        var jointPositions = GetJointPositions();\n        var message = new Float32MultiArrayMsg();\n        message.data = jointPositions.ToArray();\n        \n        ros.Send<Std_msgs.Float32MultiArray>(robotTopic, message);\n    }\n    \n    List<float> GetJointPositions()\n    {\n        List<float> positions = new List<float>();\n        // Get current positions from all joints\n        // This would be implemented based on your robot structure\n        return positions;\n    }\n}\n'})}),"\n",(0,o.jsx)(i.h2,{id:"developing-interactive-interfaces",children:"Developing Interactive Interfaces"}),"\n",(0,o.jsx)(i.h3,{id:"ui-for-digital-twin-control",children:"UI for Digital Twin Control"}),"\n",(0,o.jsx)(i.p,{children:"Unity provides powerful UI tools for creating intuitive digital twin interfaces:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-csharp",children:'using UnityEngine;\nusing UnityEngine.UI;\n\npublic class DigitalTwinUI : MonoBehaviour\n{\n    [Header("UI References")]\n    public RobotController robotController;\n    public Slider[] jointSliders;\n    public Text robotStatusText;\n    public Button resetButton;\n    public Button captureButton;\n    \n    [Header("Configuration")]\n    public bool lockSlidersDuringSync = true;\n    \n    void Start()\n    {\n        // Initialize UI elements\n        InitializeJointSliders();\n        \n        resetButton.onClick.AddListener(ResetRobot);\n        captureButton.onClick.AddListener(CaptureSnapshot);\n    }\n    \n    void InitializeJointSliders()\n    {\n        for (int i = 0; i < jointSliders.Length; i++)\n        {\n            int index = i; // Capture for lambda\n            jointSliders[i].onValueChanged.AddListener((value) => {\n                if (!lockSlidersDuringSync)\n                {\n                    robotController.SendCommand(\n                        robotController.joints[index].jointName, \n                        value\n                    );\n                }\n            });\n        }\n    }\n    \n    void Update()\n    {\n        // Update slider positions based on robot state\n        for (int i = 0; i < jointSliders.Length && i < robotController.joints.Count; i++)\n        {\n            jointSliders[i].value = robotController.joints[i].currentAngle;\n        }\n        \n        // Update robot status\n        robotStatusText.text = $"Connected to: {robotController.robotName}\\n" +\n                              $"Joints: {robotController.joints.Count}";\n    }\n    \n    public void ResetRobot()\n    {\n        // Send reset command to robot\n        foreach (RobotJoint joint in robotController.joints)\n        {\n            robotController.SendCommand(joint.jointName, 0.0f);\n        }\n    }\n    \n    public void CaptureSnapshot()\n    {\n        // Capture current state for analysis\n        string snapshot = CreateSnapshot();\n        Debug.Log("Snapshot captured: " + snapshot);\n        // In a real implementation, this might save data or send to analysis tool\n    }\n    \n    string CreateSnapshot()\n    {\n        System.Text.StringBuilder sb = new System.Text.StringBuilder();\n        sb.AppendLine($"Snapshot at: {System.DateTime.Now}");\n        sb.AppendLine($"Robot: {robotController.robotName}");\n        \n        foreach (RobotJoint joint in robotController.joints)\n        {\n            sb.AppendLine($"{joint.jointName}: {joint.currentAngle:F2}");\n        }\n        \n        return sb.ToString();\n    }\n}\n'})}),"\n",(0,o.jsx)(i.h2,{id:"vrar-integration-for-digital-twins",children:"VR/AR Integration for Digital Twins"}),"\n",(0,o.jsx)(i.h3,{id:"virtual-reality-implementation",children:"Virtual Reality Implementation"}),"\n",(0,o.jsx)(i.p,{children:"VR can enhance digital twin experiences by providing immersive interaction:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Environment Setup"}),": Create VR-ready scenes with appropriate lighting"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Interaction System"}),": Implement hand tracking and object manipulation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Teleportation System"}),": Allow users to move around large environments"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"UI Adaptation"}),": Design VR-friendly interfaces"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"example-vr-interaction-script",children:"Example VR Interaction Script"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-csharp",children:'using UnityEngine;\nusing UnityEngine.XR;\n\npublic class VRRobotController : MonoBehaviour\n{\n    [Header("VR Interaction")]\n    public RobotController robotController;\n    public XRNode controllerNode;\n    \n    private InputDevice controller;\n    private bool isGrabbing = false;\n    \n    void Start()\n    {\n        controller = InputDevices.GetDeviceAtXRNode(controllerNode);\n    }\n    \n    void Update()\n    {\n        if (controller.isValid)\n        {\n            // Check for grab interaction\n            controller.TryGetFeatureValue(CommonUsages.triggerButton, out bool triggerPressed);\n            \n            if (triggerPressed && !isGrabbing)\n            {\n                StartInteraction();\n            }\n            else if (!triggerPressed && isGrabbing)\n            {\n                EndInteraction();\n            }\n        }\n    }\n    \n    void StartInteraction()\n    {\n        isGrabbing = true;\n        \n        // Find closest joint to interact with\n        RobotJoint closestJoint = FindClosestJoint();\n        if (closestJoint != null)\n        {\n            // Start manipulating the joint\n            ManipulateJoint(closestJoint);\n        }\n    }\n    \n    void EndInteraction()\n    {\n        isGrabbing = false;\n        // End joint manipulation\n    }\n    \n    RobotJoint FindClosestJoint()\n    {\n        // Implementation to find the closest robot joint to the controller\n        // This would use raycasting or sphere colliders\n        return null;\n    }\n    \n    void ManipulateJoint(RobotJoint joint)\n    {\n        // Manipulate the joint based on VR controller position\n        // This enables direct physical interaction with the digital twin\n    }\n}\n'})}),"\n",(0,o.jsx)(i.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,o.jsx)(i.h3,{id:"rendering-optimization",children:"Rendering Optimization"}),"\n",(0,o.jsx)(i.p,{children:"For smooth real-time visualization of complex digital twins:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Level of Detail (LOD)"}),": Use simplified models when far from camera"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Occlusion Culling"}),": Don't render objects not visible to camera"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Object Pooling"}),": Reuse frequently instantiated objects"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Texture Compression"}),": Optimize textures for performance"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"network-optimization",children:"Network Optimization"}),"\n",(0,o.jsx)(i.p,{children:"For efficient real-time data synchronization:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Data Rate Reduction"}),": Send updates only when significant changes occur"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Data Compression"}),": Compress data before transmission"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Delta Updates"}),": Send only changed values rather than complete state"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Threading"}),": Use background threads for data processing"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"digital-twin-applications-in-unity",children:"Digital Twin Applications in Unity"}),"\n",(0,o.jsx)(i.h3,{id:"training-and-simulation",children:"Training and Simulation"}),"\n",(0,o.jsx)(i.p,{children:"Unity digital twins are ideal for training scenarios:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Safe environment for testing new algorithms"}),"\n",(0,o.jsx)(i.li,{children:"Reproducible scenarios for consistent training"}),"\n",(0,o.jsx)(i.li,{children:"Multi-user collaboration possibilities"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"remote-monitoring-and-control",children:"Remote Monitoring and Control"}),"\n",(0,o.jsx)(i.p,{children:"Unity can provide intuitive interfaces for remote robot monitoring:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Real-time visualization of robot status"}),"\n",(0,o.jsx)(i.li,{children:"Remote command and control interface"}),"\n",(0,o.jsx)(i.li,{children:"Data analytics and visualization"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"educational-applications",children:"Educational Applications"}),"\n",(0,o.jsx)(i.p,{children:"Interactive Unity digital twins enhance learning:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Visual understanding of robot kinematics"}),"\n",(0,o.jsx)(i.li,{children:"Safe experimentation with robot behaviors"}),"\n",(0,o.jsx)(i.li,{children:"Hands-on learning without physical hardware"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"integration-with-gazebo",children:"Integration with Gazebo"}),"\n",(0,o.jsx)(i.h3,{id:"hybrid-simulation-approaches",children:"Hybrid Simulation Approaches"}),"\n",(0,o.jsx)(i.p,{children:"Unity and Gazebo can work together in digital twin systems:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Gazebo for Physics"}),": Use Gazebo for accurate physics simulation"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Unity for Visualization"}),": Use Unity for high-quality rendering and interaction"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Data Bridge"}),": Implement data synchronization between both systems"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"example-architecture",children:"Example Architecture"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{children:"Physical Robot\n       |\n       v\nROS Bridge\n       |\n       v\nGazebo (Physics Accurate Simulation)\n       | (State Data)\n       v\nData Synchronizer\n       | (Position/State Data)\n       v\nUnity (High-Quality Visualization)\n       |\n       v\nUser Interface\n"})}),"\n",(0,o.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsx)(i.h3,{id:"model-accuracy",children:"Model Accuracy"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Geometric Fidelity"}),": Ensure Unity models match physical robot dimensions"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Kinematic Consistency"}),": Maintain same joint relationships as physical robot"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Visual Representations"}),": Use textures and materials that match real robot"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"user-experience",children:"User Experience"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Intuitive Interfaces"}),": Design user-friendly controls and visualization"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Response Time"}),": Maintain low latency for real-time interaction"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Error Handling"}),": Provide clear feedback for connection or data issues"]}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Version Control"}),": Use Unity Collaborate or Git with LFS for asset management"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Testing"}),": Regularly validate Unity visualization against real robot behavior"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Documentation"}),": Document all connections and data flows in the system"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(i.p,{children:"Unity provides an excellent platform for the visualization and interaction layer of digital twin systems in robotics. Its powerful rendering capabilities, interactive interfaces, and VR/AR support make digital twins more accessible and intuitive to use."}),"\n",(0,o.jsxs)(i.p,{children:["While Unity doesn't match ",(0,o.jsx)(i.a,{href:"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/chapter-2",children:"Gazebo's physics accuracy"}),", it excels at creating immersive visualization experiences. When combined with Gazebo or other physics engines, Unity can provide the complete digital twin experience with both accurate simulation and compelling visualization."]}),"\n",(0,o.jsxs)(i.p,{children:["The next chapter will explore how to ",(0,o.jsx)(i.a,{href:"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/chapter-4#integration-with-gazebo",children:"apply both Gazebo and Unity in practical digital twin applications"})," and deployment scenarios."]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.a,{href:"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/chapter-4",children:"Next: Digital Twin Applications and Deployment"})," | ",(0,o.jsx)(i.a,{href:"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/chapter-2",children:"Previous: Gazebo Simulation Fundamentals"})]}),"\n",(0,o.jsx)(i.h2,{id:"exercises",children:"Exercises"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Create a simple Unity scene with a robot model and implement joint control using sliders."}),"\n",(0,o.jsx)(i.li,{children:"Set up a basic data synchronization system between Unity and a simulated data source."}),"\n",(0,o.jsx)(i.li,{children:"Implement a basic VR interaction system for controlling a digital twin robot."}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.a,{href:"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/chapter-4",children:"Next: Digital Twin Applications and Deployment"})," | ",(0,o.jsx)(i.a,{href:"/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/chapter-2",children:"Previous: Gazebo Simulation Fundamentals"})]})]})}function h(n={}){const{wrapper:i}={...(0,r.R)(),...n.components};return i?(0,o.jsx)(i,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}}}]);